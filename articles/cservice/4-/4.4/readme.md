#客户端负载均衡#

##功能简介##

负载均衡可分为服务端负载均衡和客户端负载均衡，服务端负载均衡完全由服务器处理，客户端不需要做任何事情。而客户端负载均衡技术，客户端需要维护一组服务器引用，每次客户端向服务端发请求的时候，会根据算法主动选中一个服务节点。常用的负载均衡算法有： Round Robbin,  Random，Hash，StaticWeighted等。

用友云微服务框架中的客户端负载均衡指服务调用方从服务注册中心获取一组可用的服务提供方实例，服务调用过程中，从维护的实例组中按照策略选择一实例进行使用。

微服务的客户端负载均衡默认使用轮询策略进行服务实例的使用，支持扩展不同的规则。

##主要特征##

客户端负载均衡

- 1:心跳机制判断服务提供者实例的连通性；
- 2:周期性错误数统计，及时摘除不可用的服务提供者实例；
- 3:跃点数比较，使用最短路径方式连接服务提供方；
- 4:默认为轮询方式，客户端负载均衡策略可配置，支持扩展；


##接入步骤##

1：引入mwclient组件，构建服务提供者工程；

2：启动工程，将应用中的接口注册到微服务注册中心；

3：构建微服务消费者工程，依赖公共的接口组件；

4：在消费者方，调用服务提供者的接口，负载均衡组件会从注册中心中按照负载均衡策略选取实例进行调用；